<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>star-travex: StiHify: Track Reconstruction Evaluation at STAR</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">star-travex
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">StiHify: Track Reconstruction Evaluation at STAR </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Introduction </h1>
<p>The efficiency to find a hit in an active detector volume can be described using the following components: </p><pre class="fragment">P_measured = (P_instrumental + P_background) * P_corr * P_tracking
</pre><p>where</p>
<ul>
<li><code>P_instrumental</code> (aka <code>P_detector</code>) is the probability for the detector active media to produce a signal that can be recorded (Includes efficiency of hardware and/or low level thresholds, pedestals, etc)</li>
<li><code>P_background</code> is the probability to have a hit within the window that is not produced by the considered track (for example detector noise, other tracks, etc)</li>
<li><code>P_corr</code> include cluster/hit reconstruction efficiency, uncorrected unknown distortions, inefficiency of known corrected distortions</li>
<li><code>P_tracking</code> is the pure tracking efficiency, i.e. the probability to assign a hit to the track by the tracking algo. Includes algo specific requirements such as number of time hits can be used/reused, hit acceptance/rejection cuts (chi^2), etc.</li>
</ul>
<h1>How to use </h1>
<p>To build the library and the executable follow the installation instructions in the project's ../README.md "README.md". Once the <code>StiHify</code> library is built it can be loaded and the <code><a class="el" href="classStiHifyTreeMaker.html">StiHifyTreeMaker</a></code> can be added to the reconstruction chain by using the <code><a class="el" href="classStiHifyTreeMaker.html">StiHifyTreeMaker</a></code> option as: </p><pre class="fragment">root4star -b -q -l 'bfc.C(&lt;first_event&gt;, &lt;last_event&gt;, "&lt;your_bfc_options&gt; StiHifyTreeMaker", "&lt;input_file&gt;")'
</pre><p>In order to disable a sensitive Sti volume (with hits) one can provide a file called <code>deactivate_sti_detectors.txt</code> with a list of regex patterns matching the name of the volume to skip in tracking. Providing this file is optional but required if one would like to estimate the true single hit efficiency of a detector.</p>
<p>By default, all tracks and track nodes will be saved in the output tree. This is an unlikely desirable feature as it can lead to a very large output tree. To limit the number of saved track and track nodes one can provide another text file called <code>save_sti_detectors.txt</code> containing regex patterns matching the name of the Sti volumes crossed by tracks. In the simplest case both the <code>deactivate_sti_detectors.txt</code> and <code>save_sti_detectors.txt</code> files can contain the same set of regex patterns.</p>
<p>Once the tree is produced one can run the <code>stihify</code> program over it to create a set of histograms with hit efficiencies.</p>
<h1>Reconstruction chain examples </h1>
<p>Note that in the following example the PXL hits are excluded from tracking by using the <code>NoPxlIT</code>option. </p><pre class="fragment">root4star -q -b -l 'bfc.C(1, 100, "P2014a mtd btof pxlHit istHit NoPxlIT BEmcChkStat CorrX OSpaceZ2 OGridLeak3D -hitfilt StiHifyTreeMaker", "st_physics_file.daq")'
</pre><p>The following command is for the pretty much standard reconstruction with all HFT hits used in tracking. </p><pre class="fragment">root4star -q -b -l 'bfc.C(1, 100, "P2014a mtd btof pxlHit istHit sstHit BEmcChkStat CorrX OSpaceZ2 OGridLeak3D -hitfilt StiHifyTreeMaker", "st_physics_file.daq")'
</pre><h1>Regular expressions matching geometry volumes used at STAR </h1>
<pre class="fragment">Beam pipe                   ^.*IDSM_1/PIPI_1/PBES_1$
Field cages                 ^.*TPCE_1/T[IO]FC.*$
PXL all volumes             ^.*IDSM_1/PXMO_.*$
PXL sensitive volumes       ^.*IDSM_1/PXMO_1/PXLA_[\d]+/LADR_\d/PXSI_[\d]+/PLAC_1.*$
PXL ribs                    ^.*IDSM_1/PXMO_1/PXLA_[\d]+/PXRB.*$
                            ^.*IDSM_1/PXMO_1/PXLA_[\d]+/PXLB.*$
IST all volumes             ^.*IDSM_1/IBMO_.*$
IST sensitive volumes       ^.*IDSM_1/IBMO_1/IBAM_[\d]+/IBLM_\d/IBSS_1.*$
SST all volumes             ^.*IDSM_1/SFMO_.*$
SST sensitive volumes       ^.*IDSM_1/SFMO_1/SFLM_[\d]+/SFSW_[\d]+/SFSL_1/SFSD_1.*$</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 27 2016 13:32:57 for star-travex by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
